<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./main.css"
    <title>Testing</title>
</head>
<body>
    <header>Welcome to my POS</header>
    <nav>Home</nav>
    <div id="menulist"></div>
    <div class="parent">
        <form id="fastcode" class="fastcode">
            <input class="fctext1" type="text" maxlength="2" name="input-1[]" onkeyup="cek_key(event)" onchange="cekvalue1(this)" />
            <input class="fctext2" type="text" maxlength="2" name="input-2[]" onkeyup="cek_key(event)" onchange="cekvalue2(this)"/>
        </form>
            <button onclick="trigger();">Trigger</button>
            <button onclick="cek_value();">CEK VALUE</button>  
    </div>
</body>
<script> 
    const menulist = [
        ["Nasi",1,
            [
                ["Nasi Goreng",1],
                ["Nasi Uduk",2],
                ["Nasi Pecel",3]
            ]
        ],
        ["Mie",2,
            [
                ["Mie Goreng",1],
                ["Mie Ayam",2],
                ["Mie Kuah",3]
            ]
        ],
        ["Minuman",3,
            [
                ["Es Teh",1],
                ["Aqua",2],
                ["Es Jeruk",3]
            ]
        ]
    ];
    var data = [
        
        {'name':'nasi',type:'parent',fscode:121,
            'child':[{name:'nasi uduk',type:'child',fscode:121,
                'child':[{name:'Tamba Empal',type:'extra',fscode:5},]}]}
        ,
        {'name':'mie',fscode:212,'child':[{name:'mie goreng'}]}
        
    ];
    console.log('testing:' + data[1]['child'][0].name);
/*
    data[0][0]['nama'] = "NASI";
    data[0][0]['nama'] = "NASI";

    var data[0][0]['nama'] = "NASI";
    data[0][0]['fscode'] = "1";
    data[0][0]['code'] = "11110";
    data[0][0]['hasChild'] = true;
    data[0][0]['numChild'] = true;
    data[0][0]['hasVariant'] = true;
    data[0][0]['hasExtra'] = true;
    data[0][0]['index'] = 0;


    data[0][0][0]['nama'] = "NASI GORENG";
    data[0][0][0]['fscode'] = "1";
    data[0][0][0]['code'] = "11111";
    data[0][0][0]['hasChild'] = true;
    data[0][0][0]['numChild'] = true;
    data[0][0][0]['hasVariant'] = true;
    data[0][0][0]['hasExtra'] = true;
    data[0][0][0]['parentCode'] = 11110;
    data[0][0][0]['parentFscode'] = 1;
    data[0][0]['index'] = 0;

    data[0][0][0]['nama'] = "NASI UDUK";
    data[0][0][0]['fscode'] = "1";
    data[0][0][0]['code'] = "11112";
    data[0][0][0]['hasChild'] = true;
    data[0][0][0]['numChild'] = true;
    data[0][0][0]['hasVariant'] = false;
    data[0][0][0]['hasExtra'] = false;
    data[0][0][0]['parentCode'] = 11110;
    data[0][0][0]['parentFscode'] = 1;
    data[0][0]['index'] = 1;

    data[0][0][0]['nama'] = "NASI UDUK";
    data[0][0][0]['fscode'] = "1";
    data[0][0][0]['code'] = "11113";
    data[0][0][0]['hasChild'] = true;
    data[0][0][0]['numChild'] = true;
    data[0][0][0]['hasVariant'] = false;
    data[0][0][0]['hasExtra'] = false;
    data[0][0][0]['parentCode'] = 11110;
    data[0][0][0]['parentFscode'] = 1;
    data[0][0]['index'] = 2;


    data[0][1]['nama'] = "MIE";
    data[0][1]['fscode'] = "2";
    data[0][1]['code'] = "23521";
    data[0][1]['hasChild'] = true;
    data[0][1]['numChild'] = true;
    data[0][1]['hasVariant'] = true;
    data[0][1]['hasExtra'] = true;
    data[0][2]['nama'] = "MIE";
    data[0][2]['fscode'] = "2";
    data[0][2]['code'] = "23521";
    data[0][2]['hasChild'] = true;
    data[0][2]['numChild'] = true;
    data[0][2]['hasVariant'] = true;
    data[0][2]['hasExtra'] = true;
*/

    const simple = [1,3,5,6];
    const simple2 = [5,[1,2],6,[3,4]];
    const simpleObj = {
        Nasi:{'name':'Nasi','fcode':2},
        Mie:{'name':'Mie','fcode':3}

        };

    for (var x = 0; x < simpleObj.length; x++) {
        console.log(simpleObj[x].length);
    }
    //karakter 1 = 1-3, karakter 2 = 1-3;
    console.log(menulist); 

    //let arrayroot = menulist.length;
    for (var i = 0; i < menulist.length; i++) {
    console.log(i);
    console.log(menulist[i][0]); 
    console.log(menulist[i][1]);
    let listtext = '<span>' + menulist[i][1] + ' :' + menulist[i][0] + '</span><br />';
    document.getElementById('menulist').innerHTML +=listtext;
    console.log(listtext);
    //Do something
    }

    function cek_input(t){
        //oninput="this.value=this.value.replace(/[^0-9]/g,'');"
    }

    function cek_key(t){
        console.log(t.keyCode);
        //console.log(menulist.length);
        //console.log(t.key + 'tes' + simpleObj.includes(parseInt(t.key)));
        //console.log(simpleObj.0);
        console.log(simpleObj);
    }
    function getArrayDepth(value) {
        return Array.isArray(value) ? 1 + Math.max(...value.map(getArrayDepth)) :0;
    }
    console.log("dalem:" + getArrayDepth(menulist));
    function cekvalue1(t){
        //console.log(t.value + " indexof" + t.indexOf());
        console.log(Array.from(t.parentNode.children).indexOf(t));
        console.log(t.value);


    }

    function cekvalue2(t){
        console.log(t.value);
    }

    function halu(){
        console.log("halu");
    }
    function trigger(){
        var element1 = document.createElement("input");
        element1.classList.add("fctext1");
        element1.setAttribute("type","text");
        element1.setAttribute("name","input-1[]");
        element1.setAttribute("onchange","cekvalue1(this)");
        //element1.addEventListener("onchange",halu,false);
        console.log(element1);

        var element2 = document.createElement("input");
        element2.classList.add("fctext2");
        element2.setAttribute("type","text");
        element2.setAttribute("name","input-2[]");
        element2.setAttribute("onchange","cekvalue2(this)");
        //element2.addEventListener("onchange",halu,false);


        var fastcode = document.getElementById('fastcode');
        fastcode.append(element1);
        fastcode.append(element2);

        console.log(element2);

    }
    function cek_value(){
        var input1 = document.getElementsByName('input-1[]');
        var input2 = document.getElementsByName('input-2[]');
        console.log(input1);
    }
</script>

</html>